{
	"modloader": "fabric",
	"minecraftVersion": "1.18.2",
	"javaVersion": "17.",
	"firstActions": [
		{
			"if": [
				"^OR",
				"?mod.registry.armor.names #length nonzero",
				"?mod.registry.armormaterial.names #length nonzero"
			],
			"action": "print",
			"string": "Armor is not yet implemented for ${modloader} ${gameversion} and will be skipped in this build."
		},
		{
			"if": "?mod.registry.enchantment.names #length nonzero",
			"action": "print",
			"string": "Enchantments are not yet implemented for ${modloader} ${gameversion} and will be skipped in this build."
		}
	],
	"preActions": [
		{
			"action": "makedir",
			"value": "src/main/resources/data/minecraft"
		},
		{
			"action": "makedir",
			"value": "src/main/resources/data/minecraft/tags"
		},
		{
			"action": "makedir",
			"value": "src/main/resources/data/minecraft/tags/blocks"
		},
		{
			"action": "makedir",
			"value": "src/main/resources/data/minecraft/tags/blocks/mineable"
		},
		{
			"action": "makedir",
			"value": "src/main/java/${mod.packagedir}/blocks"
		},
		{
			"action": "makedir",
			"value": "src/main/java/${mod.packagedir}/recipetype"
		},
		{
			"iterate": ["axe", "pickaxe", "shovel", "hoe", "wood", "stone", "iron", "diamond", "netherite"],
			"action": "setdictkey",
			"key": "mod.registry.requires_${%v}",
			"value": null
		},
		{
			"iterate": "mod.registry.block.names",
			"action": "execactions",
			"actions": [
				{
					"action": "if",
					"condition": [
						"keyexists mod.block.${%v}.toolclass",
						"keyexists mod.block.${%v}.toollevel"
					],
					"actions": [
						{
							"action": "getdictkey",
							"key": "mod.block.${%v}.toollevel",
							"dict": {"-1": null, "0":"WOOD", "1":"STONE", "2":"IRON", "3":"DIAMOND", "4":"NETHERITE"},
							"default": "${mod.block.${%v}.toollevel}",
							"var": "toollevel"
						},
						{
							"action": "getdictkey",
							"key": "mod.block.${%v}.toolclass",
							"dict": {"PICKAXES":"PICKAXE", "AXES":"AXE", "SHOVELS":"SHOVEL", "HOES": "HOE"},
							"default": "${mod.block.${%v}.toolclass}",
							"var": "toolclass"
						},
						{
							"action": "setdictkey",
							"key": "mod.block.${%v}.hastoolrequirements",
							"value": true
						},
						{
							"action": "appenddictkey",
							"key": "mod.registry.requires_${toolclass^lower}",
							"value": "${%v}"
						},
						{
							"action": "appenddictkey",
							"key": "mod.registry.requires_${toollevel^lower}",
							"value": "${%v}"
						}
					]
				}
			]
		},
		{
			"iterate": ["axe", "pickaxe", "shovel", "hoe"],
			"action": "copyf",
			"source": "${source_path}/requires_${%v}.m3ecjson",
			"dest": "${build_path}/src/main/resources/data/minecraft/tags/blocks/mineable/${%v}.json"
		},
		{
			"iterate": ["wood", "stone", "iron", "diamond", "netherite"],
			"action": "copyf",
			"source": "${source_path}/requires_${%v}.m3ecjson",
			"dest": "${build_path}/src/main/resources/data/minecraft/tags/blocks/requires_${%v}_tool.json"
		},
		{
			"action": "copyf",
			"source": "${source_path}/${modloader}${gameversion}/ModDoorBlock.m3ecjava",
			"dest": "${build_path}/src/main/java/${mod.packagedir}/blocks/ModDoorBlock.java"
		},
		{
			"action": "copyf",
			"source": "${source_path}/${modloader}${gameversion}/ModStairBlock.m3ecjava",
			"dest": "${build_path}/src/main/java/${mod.packagedir}/blocks/ModStairBlock.java"
		},
		{
			"action": "copyf",
			"source": "${source_path}/${modloader}${gameversion}/ModTrapdoorBlock.m3ecjava",
			"dest": "${build_path}/src/main/java/${mod.packagedir}/blocks/ModTrapdoorBlock.java"
		}
	],
	"postActions": [
		{
			"action": "copy",
			"source": "${build_path}/src/main/resources/assets/${mod.mcpath}/textures/items/${mod.iconItem}.png",
			"dest": "${build_path}/src/main/resources/assets/${mod.mcpath}/icon.png"
		}
	],
	"sources": [
		{
			"source": "fabric.mod.m3ecjson",
			"dest": "src/main/resources/fabric.mod.json"
		},
		{
			"source": "MainClass.m3ecjava",
			"dest": "src/main/java/${mod.packagedir}/${mod.class}.java"
		},
		{
			"source": "registry/ModBlocks.m3ecjava",
			"dest": "src/main/java/${mod.packagedir}/registry/ModBlocks.java"
		},
		{
			"source": "registry/ModItems.m3ecjava",
			"dest": "src/main/java/${mod.packagedir}/registry/ModItems.java"
		},
		{
			"iterate": "mod.registry.toolmaterial.names",
			"source": "registry/ToolMaterial.m3ecjava",
			"dest": "src/main/java/${mod.packagedir}/registry/${mod.toolmaterial.${%v}.class}.java"
		},
		{
			"iterate": "mod.registry.tool.names",
			"source": "registry/ToolItem.m3ecjava",
			"dest": "src/main/java/${mod.packagedir}/registry/${mod.tool.${%v}.class}.java"
		},
		{
			"iterate": "mod.registry.armormaterial.names",
			"source": "registry/ArmorMaterial.m3ecjava",
			"dest": "src/main/java/${mod.packagedir}/registry/${mod.armormaterial.${%v}.class}.java"
		},
		{
			"iterate": "mod.registry.armor.names",
			"source": "registry/ArmorItem.m3ecjava",
			"dest": "src/main/java/${mod.packagedir}/registry/${mod.armor.${%v}.class}.java"
		},
		{
			"iterate": "mod.registry.recipetype.names",
			"source": "recipetype/Recipe.m3ecjava",
			"dest": "src/main/java/${mod.packagedir}/recipetype/${mod.recipetype.${%v}.class}Recipe.java"
		},
		{
			"iterate": "mod.registry.recipetype.names",
			"source": "recipetype/RecipeBlock.m3ecjava",
			"dest": "src/main/java/${mod.packagedir}/registry/${mod.recipetype.${%v}.BlockClass}.java"
		},
		{
			"iterate": "mod.registry.recipetype.names",
			"source": "recipetype/RecipeJsonFormat.m3ecjava",
			"dest": "src/main/java/${mod.packagedir}/recipetype/${mod.recipetype.${%v}.class}JsonFormat.java"
		},
		{
			"iterate": "mod.registry.recipetype.names",
			"source": "recipetype/RecipeSerializer.m3ecjava",
			"dest": "src/main/java/${mod.packagedir}/recipetype/${mod.recipetype.${%v}.class}Serializer.java"
		}
	]
	
}
