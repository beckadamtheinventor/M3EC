{
    "type": "minecraft:crafting_shaped",
    "pattern": [
---list pattern
		$%v---end
    ],
    "key": {
---list items
---if $%v #contains tag:
		"${itemkeys.list.$%i}": {"tag": "$%v"}---fi---if !$%v #contains tag:
		"${itemkeys.list.$%i}": {"item": "$%v"}---fi---end
    },
    "result": {
        "item": "${result}",
        "count": ${count}
    }
}